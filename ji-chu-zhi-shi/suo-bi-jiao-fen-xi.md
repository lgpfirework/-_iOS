#### @synchronized，NSLock，pthread，OSSpinLock比较



在互联网上的某个地方，@synchronized，NSLock，pthread互斥体和OSSpinLock之间有一个“摊牌”。

它的目的是测量他们相对于彼此的表现，但是使用粗糙的代码进行测量。

因此，虽然性能排序是正确的（@同步是最慢的，OSSpinLock是最快的），相对成本被严重错误地表示。

在这里我试图纠正这个基准。

关键部分绝对需要锁定。

这些在多线程代码中出现，有时他们的性能可能会在应用程序中产生严重的后果。

上述基准的问题是它在锁定/解锁时做了一大堆无关紧要的工作。

正在做相同数量的无关紧要的工作，所以相对的顺序是正确的（最快的还是最快的，最慢的还是最慢的等等），但是它没有正确显示出最快的速度。

在基准测试中，作者使用了自动释放池，分配对象，然后释放它们。

同时锁定。

这是一个非常合理的用例，但决不是唯一的。

对于大多数高性能，多线程代码，您将花费\_bunch\_的时间尝试使关键部分尽可能小且快速。

大，慢的关键部分通过使线程不必要地相互阻止，有效地消除了多线程加速。

因此，当您将关键部分修剪到最低限度时，另一个有时合理的优化是优化锁定/解锁自身的时间。

只是让事情令人兴奋，但并不是所有的锁定原语都是平等的。

所提及的4个中的两个具有可以影响他们花费多长时间的特殊属性，以及如何在压力下操作。

我会结束这个。

首先，这是我的“无废话”微型代码：

\#import &lt;Foundation / Foundation.h&gt;

\#import &lt;objc / runtime.h&gt;

\#import &lt;objc / message.h&gt;

\#import &lt;libkern / OSAtomic.h&gt;

\#import &lt;pthread.h&gt;

\#define ITERATIONS（1024 \* 1024 \* 32）

static unsigned long long disp = 0，land = 0;

int main（）

{

现在双倍无符号int i，count;

pthread\_mutex\_t mutex = PTHREAD\_MUTEX\_INITIALIZER;

OSSpinLock spinlock = OS\_SPINLOCK\_INIT;

NSAutoreleasePool \* pool = \[NSAutoreleasePool new\];

NSLock \* lock = \[NSLock new\];

then = CFAbsoluteTimeGetCurrent（）;

对于（I = 0; I &lt;ITERATIONS; ++ I）

{

\[锁锁\];

\[锁解锁\];

}

now = CFAbsoluteTimeGetCurrent（）;

printf（“NSLock：％f sec \ n”，now-then）;   

then = CFAbsoluteTimeGetCurrent（）;

IMP lockLock = \[lock methodForSelector：@selector（lock）\];

IMP unlockLock = \[lock methodForSelector：@selector（unlock）\];

对于（I = 0; I &lt;ITERATIONS; ++ I）

{

lockLock（锁，@选择器（锁定））;

unlockLock（锁，@选择器（解锁））;

}

now = CFAbsoluteTimeGetCurrent（）;

printf（“NSLock + IMP Cache：％f sec \ n”，now-then）;   

then = CFAbsoluteTimeGetCurrent（）;

对于（I = 0; I &lt;ITERATIONS; ++ I）

{

的pthread\_mutex\_lock（互斥）;

调用pthread\_mutex\_unlock（互斥）;

}

now = CFAbsoluteTimeGetCurrent（）;

printf（“pthread\_mutex：％f sec \ n”，now-then）;

then = CFAbsoluteTimeGetCurrent（）;

对于（I = 0; I &lt;ITERATIONS; ++ I）

{

OSSpinLockLock（自旋锁）;

OSSpinLockUnlock（自旋锁）;

}

now = CFAbsoluteTimeGetCurrent（）;

printf（“OSSpinlock：％f sec \ n”，now-then）;

id obj = \[NSObject new\];

then = CFAbsoluteTimeGetCurrent（）;

对于（I = 0; I &lt;ITERATIONS; ++ I）

{

@synchronized（OBJ）

{

}

}

now = CFAbsoluteTimeGetCurrent（）;

printf（“@ synchronized：％f sec \ n”，now-then）;

\[游泳池释放\];

返回0;

}

我们做5个测试：我们测试NSLock，NSLock与IMP缓存，pthread互斥体，OSSpinLocks，然后最终@synchronized。

我们只需锁定和解锁33554432次（对于那些在家里保持得分的人来说，这是1024 \* 1024 \* 32），看看需要多长时间。

没有分配，没有发布，没有自动释放池，没有。

只是纯粹的锁/解开善良。

我测试了几次，平均结果（总体来说，结果是从每个1亿个锁定/解锁周期的结果）

1. NSLock：3.5175秒
2. NSLock + IMP缓存：3.1165秒
3. 互斥量：1.5870秒
4. SpinLock：1.0893
5. @同步化：9.9488秒

![](data:image/png;base64,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)

  


锁定性能

从上图可以看出几件事情：首先，@synchronized是\_Really\_昂贵的，像其他任何东西一样昂贵3倍。

我们将介绍一下这个原因。

否则，我们看到NSLock和NSLock + IMP Cache非常接近 - 这些都建立在pthread互斥体之上，但是我们必须支付额外的ObjC开销。

然后有Mutex（pthread mutexes）和SpinLock - 这些都很接近，但即使SpinLock比Mutex快三十倍。

我们也会进去。

所以从上到下，我们差不多在最差和最差之间有一个数量级的差异。

关于这些全部的不错的部分是它们都使用相同的代码量 - 使用NSLock需要与pthread互斥体一样多的行，以及与spinlock相同的数字。

@synchronized可以节省一两行，但是要付出这样的代价，除了最简单的事情之外，它很快看起来就没有吸引力。

那么，什么使得@sychronized和SpinLock与其他的不同？

@synchronized是非常重的，因为它必须设置一个异常处理程序，它实际上最终在它的方式上采取几个内部锁。

所以，而不是一个简单的廉价锁，你只需要几个锁/解锁来获取你的锁定。

那些需要时间。

另一方面，OSSpinLock甚至没有进入内核 - 它只是重新加载锁，希望它被解锁。

如果锁被保持超过几纳秒，这是非常低效的，但它节省了昂贵的系统调用和一对上下文切换。

Pthread互斥体实际上首先使用OSSpinLock，以便在没有争用的情况下保持运行顺畅。

当有的时候，它会采用更重的内核级别的锁定/任务。

所以，如果你有一个很有争议的锁，OSSpinLock可能不适合你（除非你的关键部分是\_Really\_ \_Fast\_）。

Pthread互斥体稍微有点贵，但是它们避免了OSSpinLock的浪费电力的浪费。

NSLock是pthread互斥体的一个很好的包装。

他们没有提供太多的东西，所以在pthread互斥体上使用它们没有太多的意义。

当然，标准优化免责声明适用：不要这样做，直到你确定你选择了正确的算法，有分析找到热点，并发现锁定是这些热门项目之一。

否则，你正在浪费你的时间在可能提供最小的好处的东西。

